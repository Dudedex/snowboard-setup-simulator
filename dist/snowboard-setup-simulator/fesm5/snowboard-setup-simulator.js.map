{"version":3,"file":"snowboard-setup-simulator.js.map","sources":["ng://snowboard-setup-simulator/lib/snowboard-setup-simulator.service.ts","ng://snowboard-setup-simulator/lib/snowboard-setup-simulator.component.ts","ng://snowboard-setup-simulator/lib/classes/board-data-dto.ts","ng://snowboard-setup-simulator/lib/board/board.component.ts","ng://snowboard-setup-simulator/lib/board-panel/board-panel.component.ts","ng://snowboard-setup-simulator/lib/binding/binding.component.ts","ng://snowboard-setup-simulator/lib/overhang-panel/overhang-panel.component.ts","ng://snowboard-setup-simulator/lib/data-input-form/data-input-form.component.ts","ng://snowboard-setup-simulator/lib/snowboard-setup-simulator.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnowboardSetupSimulatorService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-snowboard-setup-simulator',\n  template: `\n    <app-board-panel></app-board-panel>\n  `,\n  styles: []\n})\nexport class SnowboardSetupSimulatorComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export class BoardDataDto {\n  public length: number;\n  public waist: number;\n  public sidecutInM: number;\n  public sidecutSetbackInInches: number;\n  public stance: number;\n  public rightAngle: number;\n  public leftAngle: number;\n  public bootSize: number;\n  public bindingOffsetRight: number;\n  public bindingOffsetLeft: number;\n  public setBackInInches: number;\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {BoardDataDto} from '../classes/board-data-dto';\nimport {DoCheck} from '@angular/core/src/metadata/lifecycle_hooks';\n\ndeclare function $(element: string);\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css']\n})\nexport class BoardComponent implements OnInit, DoCheck {\n\n  @Input()\n  public boardData: BoardDataDto;\n\n  public cmInPixelFactor = 2;\n  public inchesInCm = 2.54;\n  public mInPixelFactor = 200;\n\n  public currentRightToeOverhang: number;\n  public currentLeftToeOverhang: number;\n  public currentRightHeelOverhang: number;\n  public currentLeftHeelOverhang: number;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngDoCheck() {\n    if (this.boardData) {\n      this.calculateRightOverhang();\n      this.calculateLeftOverhang();\n    }\n  }\n\n  public getContainerHeight() {\n    // Container height minus border width\n    if ($('.board-container')) {\n      return $('.board-container').height() - 2;\n    }\n    return 0;\n  }\n\n  public getSidecutMargin() {\n    if (this.boardData.sidecutInM < 6.3) {\n      return -2;\n    }\n    if (this.boardData.sidecutInM < 6.7) {\n      return -1;\n    }\n    if (this.boardData.sidecutInM < 7.2) {\n      return 0;\n    }\n    if (this.boardData.sidecutInM < 7.6) {\n      return 1;\n    }\n    if (this.boardData.sidecutInM < 8.5) {\n      return 2;\n    }\n    if (this.boardData.sidecutInM < 9) {\n      return 3;\n    }\n    if (this.boardData.sidecutInM < 9.4) {\n      return 4;\n    }\n    if (this.boardData.sidecutInM <= 10) {\n      return 5;\n    }\n    return 6;\n  }\n\n  private calculateRightOverhang() {\n    const widthAtInsert = this.calculateWidthAtInserts(this.boardData.stance / 2 + this.boardData.setBackInInches * 2.54 - this.boardData.sidecutSetbackInInches * 2.54);\n    const absWidthAtInsert = this.calculateAbsBoardWidthAtInserts(this.boardData.rightAngle, widthAtInsert);\n    const offset = this.calculateAbsBoardWidthAtInserts(this.boardData.rightAngle, 1);\n    this.currentRightHeelOverhang = Math.floor(((this.boardData.bootSize - absWidthAtInsert) / 2 - this.boardData.bindingOffsetRight * offset) * 100) / 100;\n    this.currentRightToeOverhang = Math.floor(((this.boardData.bootSize - absWidthAtInsert) / 2 + this.boardData.bindingOffsetRight * offset) * 100) / 100;\n  }\n\n  private calculateLeftOverhang() {\n    const widthAtInsert = this.calculateWidthAtInserts(this.boardData.stance / 2 - this.boardData.setBackInInches * 2.54 + this.boardData.sidecutSetbackInInches * 2.54);\n    const absWidthAtInsert = this.calculateAbsBoardWidthAtInserts(this.boardData.leftAngle, widthAtInsert);\n    const offset = this.calculateAbsBoardWidthAtInserts(this.boardData.leftAngle, 1);\n    this.currentLeftToeOverhang = Math.floor(((this.boardData.bootSize - absWidthAtInsert) / 2 + this.boardData.bindingOffsetLeft * offset) * 100) / 100;\n    this.currentLeftHeelOverhang = Math.floor(((this.boardData.bootSize - absWidthAtInsert) / 2 - this.boardData.bindingOffsetLeft * offset) * 100) / 100;\n  }\n\n  private calculateWidthAtInserts(stancePlacement) {\n    const hypoInCm = this.boardData.sidecutInM * 100;\n    const kat1 = stancePlacement;\n    const hypoPow = Math.pow(hypoInCm, 2);\n    const kat1Pow = Math.pow(kat1, 2);\n    const kat2Pow = hypoPow - kat1Pow;\n    const kat2 = Math.sqrt(kat2Pow);\n    return this.boardData.waist + (hypoInCm - kat2) * 2;\n  }\n\n  private calculateAbsBoardWidthAtInserts(angleValue: number, widthAtInserts: number) {\n    /**\n     * right triangle with\n     * a = widthAtInserts\n     * angle a/b = 90Â°\n     * angle a/c = angleValue\n     */\n    let alpha;\n    let beta;\n    const gamma = 90;\n    if (angleValue >= 0) {\n      beta = angleValue;\n    } else {\n      beta = -angleValue;\n    }\n    const a = widthAtInserts;\n    if (beta === 0 || a === 0) {\n      return a;\n    } else {\n      alpha = 90 - beta;\n    }\n    const c = a * Math.sin(gamma * Math.PI / 180) / Math.sin(alpha * Math.PI / 180);\n    return c;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {BoardDataDto} from '../classes/board-data-dto';\n\n@Component({\n  selector: 'app-board-panel',\n  templateUrl: './board-panel.component.html',\n  styleUrls: ['./board-panel.component.css']\n})\nexport class BoardPanelComponent implements OnInit {\n\n  public boardData: BoardDataDto;\n\n  constructor() {\n    this.boardData = new BoardDataDto();\n    this.boardData.length = 155;\n    this.boardData.waist = 25.5;\n    this.boardData.sidecutInM = 7.6;\n    this.boardData.sidecutSetbackInInches = 0;\n    this.boardData.stance = 53;\n    this.boardData.leftAngle = 15;\n    this.boardData.rightAngle = -6;\n    this.boardData.bootSize = 30.5;\n    this.boardData.bindingOffsetLeft = 0;\n    this.boardData.bindingOffsetRight = 0;\n    this.boardData.setBackInInches = 1;\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\n\n@Component({\n  selector: 'app-binding',\n  templateUrl: './binding.component.html',\n  styleUrls: ['./binding.component.css']\n})\nexport class BindingComponent implements OnInit, OnChanges {\n  @Input()\n  public angle: number;\n\n  @Input()\n  public bootSize: number;\n\n  @Input()\n  public boardWidth: number;\n\n  @Input()\n  public bindingOffset: number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n  }\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {BoardDataDto} from '../classes/board-data-dto';\n\n@Component({\n  selector: 'app-overhang-panel',\n  templateUrl: './overhang-panel.component.html',\n  styleUrls: ['./overhang-panel.component.css']\n})\nexport class OverhangPanelComponent implements OnInit {\n\n  @Input()\n  public boardData: BoardDataDto;\n\n  @Input()\n  public leftOverhang: number;\n\n  @Input()\n  public rightOverhang: number;\n\n  @Input()\n  public placement: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  public getWarningLevel(overhang: number) {\n    if (overhang < 1.75) {\n      return '#03d800';\n    }\n    if (overhang < 2) {\n      return '#94ec00';\n    }\n    if (overhang < 2.25) {\n      return '#dddd00';\n    }\n    if (overhang < 2.5) {\n      return '#ed8649';\n    }\n    return '#da0000';\n  }\n\n  public getWarningWidth(overhang: number) {\n    if (overhang < 2) {\n      return 2;\n    }\n    if (overhang < 2.5) {\n      return 3;\n    }\n    return 4;\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {BoardDataDto} from '../classes/board-data-dto';\n\n@Component({\n  selector: 'app-data-input-form',\n  templateUrl: './data-input-form.component.html',\n  styleUrls: ['./data-input-form.component.css']\n})\nexport class DataInputFormComponent implements OnInit {\n\n  @Input()\n  public boardData: BoardDataDto;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SnowboardSetupSimulatorComponent } from './snowboard-setup-simulator.component';\nimport {FormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {BoardComponent} from './board/board.component';\nimport {BoardPanelComponent} from './board-panel/board-panel.component';\nimport {BindingComponent} from './binding/binding.component';\nimport {OverhangPanelComponent} from './overhang-panel/overhang-panel.component';\nimport {DataInputFormComponent} from './data-input-form/data-input-form.component';\n\n@NgModule({\n  declarations: [\n    BoardComponent,\n    BoardPanelComponent,\n    BindingComponent,\n    OverhangPanelComponent,\n    DataInputFormComponent,\n    SnowboardSetupSimulatorComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    CommonModule\n  ],\n  exports: [SnowboardSetupSimulatorComponent]\n})\nexport class SnowboardSetupSimulatorModule { }\n"],"names":[],"mappings":"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"}
